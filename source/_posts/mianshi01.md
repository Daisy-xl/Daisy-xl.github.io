title: Web前端常见面试题——HTTP
date: 2020-04-02
categories: http
tags:
- http

---

一篇用于面试前恶补的小文章，不断补充。

<!-- more -->

## 常见的HTTP方法
- GET： 用于请求访问已经被URI识别的资源，可以通过URL传参给服务器
- POST： 用于传输信息，提交表单给服务器，主要功能与GET相似，更推荐POST请求
- PUT：传输文件，报文主体包含文件内容，保存到对应URI位置
- HEAD： 获得报文首部，类似于GET方法，不返回报文主体，一般用于验证URI是否有效
- DELETE：删除文件，删除对应URI位置的文件
- OPTIONS：查询对应URI支持的HTTP方法

## HTTP与HTTPS的区别
- HTTP 的URL 以http:// 开头，而HTTPS 的URL 以https:// 开头
- HTTP是不安全的，HTTPS是安全的
- HTTP标准端口是80， HTTPS是443
- OSI网罗模型中，HTTP工作于应用层，HTTPS的安全传输机制工作在传输层
- HTTP无法加密，HTTPS对传输的数据是加密的
- HTTP不需要证书，HTTPS需要SSL证书

## 常见状态码
- 200 请求正常处理
- 301 永久重定向
- 302 临时重定向
- 401 请求需要认证
- 403 未授权
- 404 资源未找到
- 500 服务器内部错误
- 503 服务器超过最大负荷

## 一次完整的HTTP事务是怎样一个过程
- 域名解析
- 发起TCP三次握手
- 建立TCP连接后发起HTTP请求
- 服务器响应HTTP请求，浏览器得到HTML代码
- 浏览器解析HTML代码，请求代码中的资源
- 浏览器渲染页面呈现给用户

## HTTPS工作原理
- 首先HTTP请求服务端生成证书，客户端对证书的有效性，合法性，域名是否与请求的域名一致，证书的公钥等进行校验。
- 客户端校验通过后，根据证书的公钥有效性，生成随机数，对公钥随机加密。
- 消息体产生后，对它的摘要进行MD5算法加密，得到了RSA签名。
- 发送给服务器，只有服务端可以解密。
- 解密得到的随机数，再用AES加密，作为秘钥。

## HTTP优化方案
- TCP复用
- 内容缓存
- 压缩文本数据，减少带宽
- SSL协议加密，在通道内加密并加速
- TCP缓冲

## 304缓存的原理
- 服务器首先产生ETag，服务器可在稍后使用它来判断页面是否已经被修改。本质上，客户端通过将该记号传回服务器要求服务器验证其（客户端）缓存
- 304是HTTP状态码，服务器用来标识这个文件没修改，不返回内容，浏览器在接收到个状态码后，会使用浏览器已缓存的文件
- 客户端请求一个页面（A）。 服务器返回页面A，并在给A加上一个ETag。 客户端展现该页面，并将页面连同ETag一起缓存。 客户再次请求页面A，并将上次请求时服务器返回的ETag一起传递给服务器。 服务器检查该ETag，并判断出该页面自上次客户端请求之后还未被修改，直接返回响应304（未修改——Not Modified）和一个空的响应体

## 为什么HTTPS安全
因为网络请求需要中间有很多的服务器路由器的转发。中间的节点都可能篡改信息，而如果使用HTTPS，密钥在你和终点站才有。https之所以比http安全，是因为他利用ssl/tls协议传输。它包含证书，卸载，流量转发，负载均衡，页面适配，浏览器适配，refer传递等。保障了传输过程的安全性

## HTTP2.0
- 引入了服务端推的概念，允许服务端在客户端请求数据之前主动将数据发送到客户端缓存中，以提高性能
- 提供更多的加密支持
- 使用多路技术，允许多个消息在一个连接上同事交差
- 增加了头部压缩，因此即使非常小的请求，其请求和响应的header都只会占用很少比例的带宽

## 一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么
01.浏览器查找域名对应的IP地址(DNS 查询：浏览器缓存->系统缓存->路由器缓存->ISP DNS 缓存->根域名服务器)

02.浏览器向 Web 服务器发送一个 HTTP 请求（TCP三次握手）

03.服务器 301 重定向（从 http://example.com 重定向到 http://www.example.com）

04.浏览器跟踪重定向地址，请求另一个带 www 的网址

05.服务器处理请求（通过路由读取资源）

06.服务器返回一个 HTTP 响应（报头中把 Content-type 设置为 'text/html'）

07.浏览器进 DOM 树构建

08.浏览器发送请求获取嵌在 HTML 中的资源（如图片、音频、视频、CSS、JS等）

09.浏览器显示完成页面

10.浏览器发送异步请求

## TCP和UDP的区别
- TCP（Transmission Control Protocol，传输控制协议）是基于连接的协议，也就是说，在正式收发数据前，必须和对方建立可靠的连接。一个TCP连接必须要经过三次“对话”才能建立起来
- UDP（User Data Protocol，用户数据报协议）是与TCP相对应的协议。它是面向非连接的协议，它不与对方建立连接，而是直接就把数据包发送过去！ UDP适用于一次只传送少量数据、对可靠性要求不高的应用环境

## 说说网络分层里七层模型是哪七层
- 应用层：允许访问OSI环境的手段
- 表示层：对数据进行翻译、加密和压缩
- 会话层：建立、管理和终止会话
- 传输层：提供端到端的可靠报文传递和错误恢复
- 网络层：负责数据包从源到宿的传递和网际互连
- 物理层：通过媒介传输比特,确定机械及电气规范